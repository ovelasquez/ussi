{% extends 'base.html.twig' %}
{% block title %} Citas Médicas {% endblock %}
{% block Subtitulo %} Agendar Citas Médicas -  <small> <a href="{{ path('cita_index') }}">Regresar a la lista</a></small> {% endblock %} 

{% block body %}
    <div class="x_content">
        <br />
        {{ form_start(form, { 'attr': {'id':'etnia','class': 'form-horizontal form-label-left'} }) }} 
        {{ form_errors(form) }}
        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="consulta">{{ form_label(form.consulta) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.consulta) }}                
                {{form_widget(form.consulta,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="paciente">{{ form_label(form.paciente) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.paciente) }}                
                {{form_widget(form.paciente,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="especialidad">{{ form_label(form.especialidad) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.especialidad) }}                
                {{form_widget(form.especialidad,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="profesional">{{ form_label(form.profesional) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.profesional) }}                
                {{form_widget(form.profesional,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="fecha">{{ form_label(form.fecha) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.fecha) }}                
                {{form_widget(form.fecha ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="profesional">{{ form_label(form.prioridad) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.prioridad) }}                
                {{form_widget(form.prioridad,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="profesional">{{ form_label(form.status) }} <span class="required">*</span></label>
            <div class="col-md-6 col-sm-6 col-xs-12">
                {{ form_errors(form.status) }}                
                {{form_widget(form.status,{ 'attr': {'class': 'form-control col-md-7 col-xs-12'} } ) }}                
            </div>
        </div>


        <div class="ln_solid"></div>
        <div class="form-group">
            <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">                
                <button type="submit" class="btn btn-success">Registrar</button>
            </div>
        </div>


        {{ form_end(form) }}                           
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        $(document).ready(function () {
            //Cambiar Capitulo -> actualiza grupo
            $("#appbundle_cita_especialidad").change(function () {
                if ($('#appbundle_cita_especialidad').val() !== ' ') {
                    // Ajax                                                 
                    var dataString = 'id=' + $('#appbundle_cita_especialidad').val();
                    $.ajax
                            ({
                                type: "POST",
                                url: "{{ path ('ajax_servicioprofesional') }}",
                                data: dataString,
                                cache: false,
                                success: function (html)
                                {
                                    $('#appbundle_cita_profesional option ').remove();
                                    $('#appbundle_cita_profesional').append(html);
                                   
                                }
                            });


                }
            });
        });
    </script>

{% endblock %}